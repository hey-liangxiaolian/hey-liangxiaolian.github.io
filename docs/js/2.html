<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6新特性 | hey Lilian</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.d4bf95f4.css" as="style"><link rel="preload" href="/assets/js/app.b1efe7cc.js" as="script"><link rel="preload" href="/assets/js/2.de107c5d.js" as="script"><link rel="preload" href="/assets/js/21.ad95cd4c.js" as="script"><link rel="prefetch" href="/assets/js/10.eed87229.js"><link rel="prefetch" href="/assets/js/11.11a80502.js"><link rel="prefetch" href="/assets/js/12.30c606e7.js"><link rel="prefetch" href="/assets/js/13.ac40ac1c.js"><link rel="prefetch" href="/assets/js/14.681be090.js"><link rel="prefetch" href="/assets/js/15.d2f5a810.js"><link rel="prefetch" href="/assets/js/16.fa3b00bd.js"><link rel="prefetch" href="/assets/js/17.70e67b6c.js"><link rel="prefetch" href="/assets/js/18.955dba17.js"><link rel="prefetch" href="/assets/js/19.2b952940.js"><link rel="prefetch" href="/assets/js/20.1cffb713.js"><link rel="prefetch" href="/assets/js/22.62d7ce71.js"><link rel="prefetch" href="/assets/js/23.a3da7bc5.js"><link rel="prefetch" href="/assets/js/24.875210c2.js"><link rel="prefetch" href="/assets/js/25.54d2554a.js"><link rel="prefetch" href="/assets/js/26.8f04c76c.js"><link rel="prefetch" href="/assets/js/27.e8dcd3c9.js"><link rel="prefetch" href="/assets/js/28.a27583b2.js"><link rel="prefetch" href="/assets/js/29.5bc62d24.js"><link rel="prefetch" href="/assets/js/3.7dc44937.js"><link rel="prefetch" href="/assets/js/30.01ec2672.js"><link rel="prefetch" href="/assets/js/31.f98fd7a9.js"><link rel="prefetch" href="/assets/js/32.342ffcc1.js"><link rel="prefetch" href="/assets/js/33.8cf6bb20.js"><link rel="prefetch" href="/assets/js/34.735e16a3.js"><link rel="prefetch" href="/assets/js/35.c2e9a217.js"><link rel="prefetch" href="/assets/js/36.e7c87d01.js"><link rel="prefetch" href="/assets/js/37.d9a808ac.js"><link rel="prefetch" href="/assets/js/38.4340c545.js"><link rel="prefetch" href="/assets/js/39.72498126.js"><link rel="prefetch" href="/assets/js/4.b3d7061b.js"><link rel="prefetch" href="/assets/js/5.abedb45c.js"><link rel="prefetch" href="/assets/js/6.73c063ed.js"><link rel="prefetch" href="/assets/js/7.1288c97d.js"><link rel="prefetch" href="/assets/js/8.3a883201.js"><link rel="prefetch" href="/assets/js/9.aa4e0372.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d4bf95f4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="hey Lilian" class="logo"> <span class="site-name can-hide">hey Lilian</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/1.html" class="nav-link">
  js
</a></li><li class="dropdown-item"><!----> <a href="/css/1.html" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/vue/1.html" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/uni-app/1.html" class="nav-link">
  uni-app
</a></li><li class="dropdown-item"><!----> <a href="/interview/1.html" class="nav-link">
  interview
</a></li><li class="dropdown-item"><!----> <a href="/http/1.html" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/compatibility/1.html" class="nav-link">
  兼容性
</a></li><li class="dropdown-item"><!----> <a href="/kuayu/1.html" class="nav-link">
  跨域
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vscode/1.html" class="nav-link">
  vscode
</a></li><li class="dropdown-item"><!----> <a href="/git/1.html" class="nav-link">
  git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="扫呗" class="dropdown-title"><span class="title">扫呗</span> <span class="arrow down"></span></button> <button type="button" aria-label="扫呗" class="mobile-dropdown-title"><span class="title">扫呗</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/saobei/1.html" class="nav-link">
  技术对接常见问题
</a></li><li class="dropdown-item"><h4>
          规范
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/saobei/2.html" class="nav-link">
  代码提交规范
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/1.html" class="nav-link">
  js
</a></li><li class="dropdown-item"><!----> <a href="/css/1.html" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/vue/1.html" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/uni-app/1.html" class="nav-link">
  uni-app
</a></li><li class="dropdown-item"><!----> <a href="/interview/1.html" class="nav-link">
  interview
</a></li><li class="dropdown-item"><!----> <a href="/http/1.html" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/compatibility/1.html" class="nav-link">
  兼容性
</a></li><li class="dropdown-item"><!----> <a href="/kuayu/1.html" class="nav-link">
  跨域
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vscode/1.html" class="nav-link">
  vscode
</a></li><li class="dropdown-item"><!----> <a href="/git/1.html" class="nav-link">
  git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="扫呗" class="dropdown-title"><span class="title">扫呗</span> <span class="arrow down"></span></button> <button type="button" aria-label="扫呗" class="mobile-dropdown-title"><span class="title">扫呗</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/saobei/1.html" class="nav-link">
  技术对接常见问题
</a></li><li class="dropdown-item"><h4>
          规范
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/saobei/2.html" class="nav-link">
  代码提交规范
</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/js/1.html" class="sidebar-link">数组常用方法</a></li><li><a href="/js/2.html" aria-current="page" class="active sidebar-link">ES6新特性</a></li><li><a href="/js/3.html" class="sidebar-link">JS深拷贝</a></li><li><a href="/js/4.html" class="sidebar-link">Promise</a></li><li><a href="/js/5.html" class="sidebar-link">深拷贝之递归拷贝</a></li><li><a href="/js/6.html" class="sidebar-link">数组去重</a></li><li><a href="/js/7.html" class="sidebar-link">排序</a></li><li><a href="/js/8.html" class="sidebar-link">防抖与节流</a></li><li><a href="/js/9.html" class="sidebar-link">暂未命名</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h4 id="es6新特性"><a href="#es6新特性" class="header-anchor">#</a> ES6新特性</h4> <p>参考：https://www.jianshu.com/p/87008f4f8513</p> <p>https://blog.csdn.net/weixin_43641218/article/details/108396556</p> <h4 id="_1、声明变量"><a href="#_1、声明变量" class="header-anchor">#</a> 1、声明变量</h4> <p>​    let
​    const</p> <p>关于使用<code>let</code>与<code>const</code>规则:</p> <ul><li>使用<code>let</code>声明的变量可以重新赋值,但是不能在同一作用域内重新声明</li> <li>使用<code>const</code>声明的变量必须赋值初始化,但是不能在同一作用域类重新声明也无法重新赋值.</li></ul> <h4 id="_2、模板字符串"><a href="#_2、模板字符串" class="header-anchor">#</a> 2、模板字符串</h4> <p>​    ``</p> <p>模板字面量本质上是包含嵌入式表达式的字符串字面量.
模板字面量用倒引号 <code>( `` )</code>表示，可以包含用 <code>${expression}</code> 表示的占位符</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> message <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>student<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> please see </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>teacher<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>teacher<span class="token punctuation">.</span>room<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> to pick up your report card.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_3、箭头函数"><a href="#_3、箭头函数" class="header-anchor">#</a> 3、箭头函数</h4> <h4 id="_4、解构"><a href="#_4、解构" class="header-anchor">#</a> 4、解构</h4> <p>ES6中允许安装一定模式从数组对象中提取值，然后对变量进行赋值，这样被称之为<strong>解构</strong></p> <p>在ES6中,可以使用<strong>解构</strong>从数组和对象提取值并赋值给独特的变量</p> <p>解构数组的值:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> point <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">34</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">]</span> <span class="token operator">=</span> point<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>Prints: 10 25 -34</p></blockquote> <p><code>[]</code>表示被解构的数组, <code>x</code>,<code>y</code>,<code>z</code>表示要将数组中的值存储在其中的变量, 在解构数组是, 还可以忽略值, 例如<code>const[x,,z]=point</code>,忽略<code>y</code>坐标.</p> <p>解构对象中的值:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> gemstone <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'quartz'</span><span class="token punctuation">,</span>
  color<span class="token operator">:</span> <span class="token string">'rose'</span><span class="token punctuation">,</span>
  karat<span class="token operator">:</span> <span class="token number">21.29</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>type<span class="token punctuation">,</span> color<span class="token punctuation">,</span> karat<span class="token punctuation">}</span> <span class="token operator">=</span> gemstone<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> color<span class="token punctuation">,</span> karat<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>花括号 <code>{ }</code> 表示被解构的对象，<code>type</code>、<code>color</code> 和 <code>karat</code> 表示要将对象中的属性存储到其中的变量</p> <h4 id="_5、promise"><a href="#_5、promise" class="header-anchor">#</a> 5、Promise</h4> <p>所谓Promise，简单来说就是容器，里面保存着某个未来才会结束的事件（通常为异步操作）的结果。从语法上说，Promise是一个对象，它可以获取异步操作的消息。Promise提供统一的API，各种异步操作都可以用这样的方式进行处理。</p> <p>可以通过Promise的构造函数来创建Promise对象，并在内部封装一个异步执行的结果。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 执行异步操作</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token comment">/*异步操作成功*/</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 调用resolve，代表Promise将返回成功的结果</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 调用reject，代表Promise将返回错误的结果</span>
        <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>如果想用等到<code>promise</code>异步操作执行完成，做一些事情，可以通过<code>promise</code>的<code>then()</code>方法来实现：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">// 异步执行成功后的回调</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果想要处理Promise异步执行失败的事件，还可以跟上<code>catch</code>：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">// 异步执行成功后的回调</span>
<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">// 异步执行失败后的回调</span>
<span class="token punctuation">}</span>
</code></pre></div><p>示例：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> num <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;success,num:&quot;</span> <span class="token operator">+</span> num<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;error,num:&quot;</span> <span class="token operator">+</span> num<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用promise</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>结果：</p> <p>success,num:0.07920998734837781</p> <p>error,num:0.9567763507119988</p></blockquote> <h4 id="_6、set和map"><a href="#_6、set和map" class="header-anchor">#</a> 6、set和map</h4> <p>ES6提供了Set和Map的数据结构。</p> <h4 id="set"><a href="#set" class="header-anchor">#</a> Set</h4> <p><code>Set</code>本质与数组类似。不同于Set中只能保存不同的元素，如果元素相同会被忽略。和Java中的Set集合非常相似。</p> <p>构造函数：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// [1]</span>

<span class="token keyword">let</span> set2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>	<span class="token comment">// [1,2,3,4,5]</span>
</code></pre></div><p>方法：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 添加，元素内容不可重复，重复会被忽略</span>
set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 清空</span>
set<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 删除指定元素，删除的是元素内容，而不是下标</span>
set<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token comment">// 判断指定元素是否存在</span>
set<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token comment">// 遍历</span>
set<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 元素个数</span>
set<span class="token punctuation">.</span>size
</code></pre></div><h4 id="map"><a href="#map" class="header-anchor">#</a> Map</h4> <p><code>Map</code>本质是与Object类似的结构。不同在于Object强制规定key值只能是字符串。而<code>Map</code>对象的key可以是任意对象：</p> <ul><li>object是<code>&lt;String, Object&gt;</code>集合</li> <li>map是<code>&lt;Object, Object&gt;</code>集合</li></ul> <p>构造函数：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// map接收一个数组，数组中的元素是键值对数组</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'key1'</span><span class="token punctuation">,</span><span class="token string">'value1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'key2'</span><span class="token punctuation">,</span><span class="token string">'value2'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 或者接收一个set</span>
<span class="token keyword">const</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'key3'</span><span class="token punctuation">,</span><span class="token string">'value3'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'key4'</span><span class="token punctuation">,</span><span class="token string">'value4'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>方法：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>value<span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span>size

map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><h4 id="_7、for···in-和-for···of"><a href="#_7、for···in-和-for···of" class="header-anchor">#</a> 7、for···in 和 for···of</h4> <p>for...in循环</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> digits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> index <span class="token keyword">in</span> digits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>digits<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>依然需要使用 index 来访问数组的值</strong>
当你需要向数组中添加额外的方法（或另一个对象）时，<code>for...in</code> 循环会带来很大的麻烦。因为 <code>for...in</code> 循环循环访问所有<strong>可枚举的属性</strong>，意味着如果向数组的<strong>原型中添加任何其他属性</strong>，这些属性也会出现在循环中。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">decimalfy</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> digits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> index <span class="token keyword">in</span> digits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>digits<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>for...of循环
<code>for...of</code> 循环用于循环访问任何可迭代的数据类型。
<code>for...of</code> 循环的编写方式和 <code>for...in</code> 循环的基本一样，只是将 <code>in</code> 替换为 <code>of</code>，可以忽略索引。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> digits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> digit <span class="token keyword">of</span> digits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>digit<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>建议使用复数对象名称来表示多个值的集合。这样，循环该集合时，可以使用名称的单数版本来表示集合中的单个值。例如，<code>for (const button of buttons) {…}</code>。</p></blockquote> <p><code>for...of</code> 循环还具有其他优势，解决了 for 和 for...in 循环的不足之处。你可以随时停止或退出 for...of 循环。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> digit <span class="token keyword">of</span> digits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>digit <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">continue</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>digit<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>不用担心向对象中添加新的属性。<strong>for...of 循环将只循环访问对象中的值。</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">decimalfy</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> digits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> digit <span class="token keyword">of</span> digits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>digit<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_8、展开运算符"><a href="#_8、展开运算符" class="header-anchor">#</a> 8、展开运算符</h4> <p><strong>展开运算符</strong>（用三个连续的点 (<code>...</code>) 表示）是 ES6 中的新概念，使你能够将字面量对象展开为多个元素</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> books <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Don Quixote&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;The Hobbit&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Alice in Wonderland&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Tale of Two Cities&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>Prints: Don Quixote The Hobbit Alice in Wonderland Tale of Two Cities</p></blockquote> <p>展开运算符的一个用途是结合数组。</p> <p>如果你需要结合多个数组，在有展开运算符之前，必须使用 <code>Array</code>的 <code>concat()</code> 方法。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> fruits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;apples&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bananas&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pears&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> vegetables <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;corn&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;potatoes&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;carrots&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> produce <span class="token operator">=</span> fruits<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>vegetables<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>produce<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>Prints: [&quot;apples&quot;, &quot;bananas&quot;, &quot;pears&quot;, &quot;corn&quot;, &quot;potatoes&quot;, &quot;carrots&quot;]</p></blockquote> <p>使用展开符来结合数组</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> fruits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;apples&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bananas&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pears&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> vegetables <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;corn&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;potatoes&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;carrots&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> produce <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>fruits<span class="token punctuation">,</span><span class="token operator">...</span>vegetables<span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>produce<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>剩余参数(可变参数)</strong></p> <p>使用展开运算符将数组展开为多个元素, 使用剩余参数可以将多个元素绑定到一个数组中.
剩余参数也用三个连续的点 ( <code>...</code> ) 表示，使你能够将不定数量的元素表示为数组.</p> <p>用途1: 将变量赋数组值时:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> order <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">20.17</span><span class="token punctuation">,</span> <span class="token number">18.67</span><span class="token punctuation">,</span> <span class="token number">1.50</span><span class="token punctuation">,</span> <span class="token string">&quot;cheese&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;eggs&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;milk&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bread&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>total<span class="token punctuation">,</span> subtotal<span class="token punctuation">,</span> tax<span class="token punctuation">,</span> <span class="token operator">...</span>items<span class="token punctuation">]</span> <span class="token operator">=</span> order<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>total<span class="token punctuation">,</span> subtotal<span class="token punctuation">,</span> tax<span class="token punctuation">,</span> items<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>用途2: 可变参数函数
对于参数不固定的函数,ES6之前是使用**参数对象(arguments)**处理:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> argument <span class="token keyword">of</span> arguments<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    total <span class="token operator">+=</span> argument<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> total<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在ES6中使用剩余参数运算符则更为简洁,可读性提高:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>nums</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> num <span class="token keyword">of</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    total <span class="token operator">+=</span> num<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> total<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_9、类"><a href="#_9、类" class="header-anchor">#</a> 9、类</h4> <h4 id="_10、模块化"><a href="#_10、模块化" class="header-anchor">#</a> 10、模块化</h4> <h4 id="_11、二进制和八进制字面量"><a href="#_11、二进制和八进制字面量" class="header-anchor">#</a> 11、二进制和八进制字面量</h4> <h4 id="_12、proxy"><a href="#_12、proxy" class="header-anchor">#</a> 12、proxy</h4></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/30/2021, 1:28:23 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/js/1.html" class="prev">
        数组常用方法
      </a></span> <span class="next"><a href="/js/3.html">
        JS深拷贝
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b1efe7cc.js" defer></script><script src="/assets/js/2.de107c5d.js" defer></script><script src="/assets/js/21.ad95cd4c.js" defer></script>
  </body>
</html>

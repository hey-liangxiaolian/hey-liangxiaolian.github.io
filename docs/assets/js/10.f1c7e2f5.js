(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{368:function(e,t,n){"use strict";n.r(t);var a=n(42),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h4",{attrs:{id:"js兼容"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#js兼容"}},[e._v("#")]),e._v(" js兼容")]),e._v(" "),n("h4",{attrs:{id:"_1-事件绑定"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-事件绑定"}},[e._v("#")]),e._v(" 1. 事件绑定")]),e._v(" "),n("p",[n("strong",[e._v("IE")]),e._v(": "),n("code",[e._v("dom.attachEvent();")])]),e._v(" "),n("p",[n("strong",[e._v("标准浏览器")]),e._v("："),n("code",[e._v("dom.addEventListener(‘click',function(event){},false);")])]),e._v(" "),n("p",[e._v("标准浏览器采用事件捕获的方式对应IE的事件冒泡机制（即标准由最外元素至最内元素或者IE由最内元素到最外元素）最后标准方亦觉得IE这方面的比较合理，所以便将事件冒泡纳入了标准，这也是"),n("code",[e._v("addEventListener")]),e._v("第三个参数的由来，而且事件冒泡作为了默认值第三值默认"),n("code",[e._v("false")]),e._v("，表示事件冒泡方式。")]),e._v(" "),n("p",[e._v("如果浏览器不支持 "),n("code",[e._v("addEventListener()")]),e._v("方法, 你可以使用 "),n("code",[e._v("attachEvent()")]),e._v("方法替代。")]),e._v(" "),n("p",[e._v("以下实例演示了跨浏览器的解决方法：")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('var x = document.getElementById("myBtn");\nif (x.addEventListener) {   //所有主流浏览器，ie9+\n    x.addEventListener("click", myFunction);\n} else if (x.attachEvent) {      // IE 8 及更早 IE 版本\n    x.attachEvent("onclick", myFunction);\n}\n')])])]),n("h4",{attrs:{id:"_2-event事件对象问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-event事件对象问题"}},[e._v("#")]),e._v(" 2. event事件对象问题")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("document.onclick = function (ev) {//谷歌火狐的写法，IE9以上支持，往下不支持；\n    var e = ev;\n    console.log(e);\n}\ndocument.onclick = function () {//谷歌和IE支持，火狐不支持；\n    var e = event;\n    console.log(e);\n}\ndocument.onclick = function (ev) {//兼容写法；\n    var e = ev || window.event;\n    var mouseX = e.clientX;//鼠标X轴的坐标\n    var mouseY = e.clientY;//鼠标Y轴的坐标\n}\n")])])]),n("h4",{attrs:{id:"_3-event-srcelement-事件源对象-问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-event-srcelement-事件源对象-问题"}},[e._v("#")]),e._v(" 3. event.srcElement(事件源对象)问题")]),e._v(" "),n("p",[n("strong",[e._v("IE")]),e._v("： "),n("code",[e._v("event")]),e._v("对象有"),n("code",[e._v("srcElement")]),e._v("属性，但是没有"),n("code",[e._v("target")]),e._v("属性；")]),e._v(" "),n("p",[n("strong",[e._v("Firefox")]),e._v(": "),n("code",[e._v("event")]),e._v("对象有"),n("code",[e._v("target")]),e._v("属性，但是没有"),n("code",[e._v("srcElement")]),e._v("属性。")]),e._v(" "),n("p",[e._v("解决方法：")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("srcObj = event.srcElement?event.srcElement:event.target;\n")])])]),n("h4",{attrs:{id:"_4-获取元素的非行间样式值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-获取元素的非行间样式值"}},[e._v("#")]),e._v(" 4. 获取元素的非行间样式值")]),e._v(" "),n("p",[n("strong",[e._v("IE")]),e._v(": "),n("code",[e._v("dom.currentStyle[‘width’]")]),e._v(" 获取元素高度")]),e._v(" "),n("p",[n("strong",[e._v("标准浏览器")]),e._v("： "),n("code",[e._v("window.getComputedStyle(obj, null)['width'];")])]),e._v(" "),n("p",[e._v("跨浏览器兼容解决方法：")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// 获取元素属性值的兼容写法\nfunction getStyle(obj, attr) {\n    if (obj.currentStyle) {\n      //兼容IE\n      obj.currentStyle[attr];\n      return obj.currentStyle[attr];\n    } else {\n      //非IE，\n      return window.getComputedStyle(obj, null)[attr];\n    }\n}\n")])])]),n("h4",{attrs:{id:"_5-阻止事件冒泡传播"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-阻止事件冒泡传播"}},[e._v("#")]),e._v(" 5. 阻止事件冒泡传播")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("//js阻止事件传播，这里使用click事件为例\ndocument.onclick = function (e) {\n    var e = e || window.event;\n    if (e.stopPropagation) {\n      e.stopPropagation();//W3C标准\n    } else {\n      e.cancelBubble = true;//IE....\n    }\n}\n")])])]),n("h4",{attrs:{id:"_6-阻止事件默认行为"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-阻止事件默认行为"}},[e._v("#")]),e._v(" 6. 阻止事件默认行为")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("//js阻止默认事件   一般阻止a链接href，form表单submit提交\ndocument.onclick = function (e) {\n    var e = e || window.event;\n    if (e.preventDefault) {\n      e.preventDefault();//W3C标准\n    } else {\n      e.returnValue = 'false';//IE..\n    }\n}\n")])])]),n("h4",{attrs:{id:"_7-ajax兼容问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-ajax兼容问题"}},[e._v("#")]),e._v(" 7. ajax兼容问题")]),e._v(" "),n("p",[n("strong",[e._v("IE")]),e._v("： "),n("code",[e._v("ActiveXObject")])]),e._v(" "),n("p",[n("strong",[e._v("其他")]),e._v("： "),n("code",[e._v("xmlHttpReuest")])]),e._v(" "),n("p",[e._v("在IE6以前不是用"),n("code",[e._v("XMLHttpRequest")]),e._v("创建的，所以我们要兼容ie6以前的浏览器要判断他有没有"),n("code",[e._v("XMLHttpRequest()")])]),e._v(" "),n("p",[e._v("跨浏览器兼容解决方法：")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<script>\n  window.onload = function () {\n    var oBtn = document.getElementById(\'btn\');\n    oBtn.onclick = function () {\n      //1.创建ajax对象\n      //只支持非IE6浏览器\n      var oAjax = null;\n      if (window.XMLHttpRequest) {\n        oAjax = new XMLHttpRequest();\n        //alert(new XMLHttpRequest());\n      } else {\n        //只支持IE6浏览器\n        oAjax = new ActiveXObject("Microsoft.XMLHTTP");\n      }\n      //2.连接服务器,这里加个时间参数,每次访问地址都不一样,浏览器就不用浏览器里的缓冲了,但\n      //\t但服务器那端是不解析这个时间的\n      oAjax.open("get", "a.txt?t=" + new Date().getTime(), true);\n      //3.发送\n      oAjax.send(null);\n      //4.接受信息\n      oAjax.onreadystatechange = function () {\n        //浏览器与服务器之间的交互,进行到哪一步了,当等于4的时候,代表读取完成了\n        if (oAjax.readyState == 4) {\n          //状态码,只有等于200,代表接受完成,并且成功了\n          if (oAjax.status == 200) {\n            alert("成功" + oAjax.responseText);\n          } else {\n            alert("失败");\n          }\n        }\n      };\n    };\n  };\n<\/script>\n')])])])])}),[],!1,null,null,null);t.default=s.exports}}]);